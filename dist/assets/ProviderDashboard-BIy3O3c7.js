import{r as q,c as P,e as _,h as e,i as s,w as d,j as r,g as m,F as S,k as D,m as F,p as n,q as i,s as b,ak as R,al as $,a5 as A,A as E,t as o,f as p}from"./index-U0bzlslD.js";const L={class:"space-y-6"},U={class:"flex justify-between items-end"},G={class:"flex gap-2"},H={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},I={class:"bg-white p-4 md:p-5 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4"},J={class:"w-10 h-10 md:w-12 md:h-12 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center flex-shrink-0"},K={class:"bg-white p-4 md:p-5 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4"},O={class:"w-10 h-10 md:w-12 md:h-12 bg-green-50 text-green-600 rounded-lg flex items-center justify-center flex-shrink-0"},Q={class:"bg-white p-4 md:p-5 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4"},W={class:"w-10 h-10 md:w-12 md:h-12 bg-purple-50 text-purple-600 rounded-lg flex items-center justify-center flex-shrink-0"},X={class:"bg-white p-4 md:p-5 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4"},Y={class:"w-10 h-10 md:w-12 md:h-12 bg-yellow-50 text-yellow-600 rounded-lg flex items-center justify-center flex-shrink-0"},Z={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},ee={class:"p-4 border-b border-gray-100 flex flex-col md:flex-row gap-4 items-start md:items-center"},te={class:"hidden md:block"},se={class:"font-medium text-gray-800 hover:text-blue-600 cursor-pointer"},le={class:"text-xs text-gray-400 mt-1"},de={class:"text-green-600 font-bold"},ie={class:"flex gap-2"},ae={class:"md:hidden"},ne={class:"flex justify-between items-start mb-2"},oe={class:"font-medium text-gray-800 line-clamp-2 flex-1 mr-2"},re={class:"flex justify-between items-center text-sm mb-3"},ue={class:"text-xs text-gray-500"},me={class:"text-green-600 font-bold"},pe={class:"flex items-center justify-between"},xe={class:"text-xs text-gray-400"},ce={class:"flex gap-2"},ge={key:0,class:"p-8 text-center text-gray-400 text-sm"},fe={class:"p-4 flex justify-center md:justify-end"},ye={__name:"ProviderDashboard",setup(_e){const y=F(),g=q("all"),h=q([{id:1,title:"西山森林防火常态化巡查",requester:"海淀区应急管理局",price:"¥280,000",deadline:"2026-02-15",status:"executing"},{id:2,title:"某楼盘开盘仪式无人机表演",requester:"万科地产",price:"¥50,000",deadline:"2026-01-20",status:"bidding"},{id:3,title:"京津高速路况巡查（第3期）",requester:"交通路政",price:"¥15,000",deadline:"2026-01-18",status:"reviewing"},{id:4,title:"果园农药喷洒服务",requester:"平谷果农合作社",price:"¥4,500",deadline:"2025-12-20",status:"completed"}]),v=P(()=>g.value==="all"?h.value:h.value.filter(u=>u.status===g.value)),k=u=>({bidding:"warning",executing:"primary",reviewing:"warning",completed:"success",failed:"danger"})[u],w=u=>({bidding:"竞标中",executing:"执行中",reviewing:"验收中",completed:"已完成",failed:"竞标失败"})[u],z=u=>{y.push({path:"/messages",query:{id:5}})},C=()=>{y.push("/service-needs")},T=()=>{y.push("/admin/profile")};return(u,t)=>{const a=r("el-button"),f=r("el-icon"),x=r("el-tab-pane"),V=r("el-tabs"),c=r("el-table-column"),j=r("el-tag"),B=r("el-table"),N=r("el-pagination");return n(),_("div",L,[e("div",U,[t[3]||(t[3]=e("div",null,[e("h2",{class:"text-xl font-bold text-gray-800"},"服务商工作台"),e("p",{class:"text-sm text-gray-500 mt-1"},"查看任务进度，管理服务产品，提升接单效率")],-1)),e("div",G,[s(a,{type:"success",plain:"",onClick:C},{default:d(()=>[...t[1]||(t[1]=[i("需求大厅",-1)])]),_:1}),s(a,{type:"primary",icon:"Plus",onClick:T},{default:d(()=>[...t[2]||(t[2]=[i("管理服务能力",-1)])]),_:1})])]),e("div",H,[e("div",I,[e("div",J,[s(f,{size:20},{default:d(()=>[s(b(R))]),_:1})]),t[4]||(t[4]=e("div",null,[e("div",{class:"text-xs md:text-sm text-gray-500"},"执行中任务"),e("div",{class:"text-lg md:text-2xl font-bold text-gray-800"},"2")],-1))]),e("div",K,[e("div",O,[s(f,{size:20},{default:d(()=>[s(b($))]),_:1})]),t[5]||(t[5]=e("div",null,[e("div",{class:"text-xs md:text-sm text-gray-500"},"本月收益"),e("div",{class:"text-lg md:text-2xl font-bold text-gray-800"},"¥28,500")],-1))]),e("div",Q,[e("div",W,[s(f,{size:20},{default:d(()=>[s(b(A))]),_:1})]),t[6]||(t[6]=e("div",null,[e("div",{class:"text-xs md:text-sm text-gray-500"},"累计飞行时长"),e("div",{class:"text-lg md:text-2xl font-bold text-gray-800"},"1,240h")],-1))]),e("div",X,[e("div",Y,[s(f,{size:20},{default:d(()=>[s(b(E))]),_:1})]),t[7]||(t[7]=e("div",null,[e("div",{class:"text-xs md:text-sm text-gray-500"},"服务评分"),e("div",{class:"text-lg md:text-2xl font-bold text-gray-800"},"4.9")],-1))])]),e("div",Z,[e("div",ee,[t[8]||(t[8]=e("h3",{class:"font-bold text-gray-800 flex-shrink-0"},"任务管理",-1)),s(V,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=l=>g.value=l),class:"w-full dashboard-tabs"},{default:d(()=>[s(x,{label:"全部",name:"all"}),s(x,{label:"竞标中",name:"bidding"}),s(x,{label:"执行中",name:"executing"}),s(x,{label:"验收中",name:"reviewing"}),s(x,{label:"已完成",name:"completed"})]),_:1},8,["modelValue"])]),e("div",te,[s(B,{data:v.value,style:{width:"100%"}},{default:d(()=>[s(c,{prop:"title",label:"任务名称","min-width":"200"},{default:d(({row:l})=>[e("div",se,o(l.title),1),e("div",le,"需求方: "+o(l.requester),1)]),_:1}),s(c,{prop:"price",label:"成交价/报价",width:"140"},{default:d(({row:l})=>[e("span",de,o(l.price),1)]),_:1}),s(c,{prop:"deadline",label:"截止日期",width:"140"}),s(c,{label:"状态",width:"120"},{default:d(({row:l})=>[s(j,{type:k(l.status)},{default:d(()=>[i(o(w(l.status)),1)]),_:2},1032,["type"])]),_:1}),s(c,{label:"操作",width:"280",fixed:"right"},{default:d(({row:l})=>[e("div",ie,[s(a,{type:"info",link:"",size:"small",icon:"Message",onClick:M=>z(l)},{default:d(()=>[...t[9]||(t[9]=[i("联系",-1)])]),_:1},8,["onClick"]),l.status==="executing"?(n(),p(a,{key:0,type:"primary",link:"",size:"small"},{default:d(()=>[...t[10]||(t[10]=[i("提交成果",-1)])]),_:1})):m("",!0),l.status==="executing"?(n(),p(a,{key:1,type:"warning",link:"",size:"small"},{default:d(()=>[...t[11]||(t[11]=[i("申请延期",-1)])]),_:1})):m("",!0),l.status==="bidding"?(n(),p(a,{key:2,type:"danger",link:"",size:"small"},{default:d(()=>[...t[12]||(t[12]=[i("取消投标",-1)])]),_:1})):m("",!0),l.status==="completed"?(n(),p(a,{key:3,type:"info",link:"",size:"small"},{default:d(()=>[...t[13]||(t[13]=[i("查看评价",-1)])]),_:1})):m("",!0),s(a,{type:"primary",link:"",size:"small"},{default:d(()=>[...t[14]||(t[14]=[i("详情",-1)])]),_:1})])]),_:1})]),_:1},8,["data"])]),e("div",ae,[(n(!0),_(S,null,D(v.value,l=>(n(),_("div",{key:l.id,class:"p-4 border-b border-gray-100 last:border-0"},[e("div",ne,[e("div",oe,o(l.title),1),s(j,{size:"small",type:k(l.status)},{default:d(()=>[i(o(w(l.status)),1)]),_:2},1032,["type"])]),e("div",re,[e("div",ue,"需求方: "+o(l.requester),1),e("span",me,o(l.price),1)]),e("div",pe,[e("div",xe,"截止: "+o(l.deadline),1),e("div",ce,[s(a,{type:"info",link:"",size:"small",icon:"Message",onClick:M=>z()},{default:d(()=>[...t[15]||(t[15]=[i("联系",-1)])]),_:1},8,["onClick"]),l.status==="executing"?(n(),p(a,{key:0,type:"primary",link:"",size:"small"},{default:d(()=>[...t[16]||(t[16]=[i("提交",-1)])]),_:1})):m("",!0),l.status==="bidding"?(n(),p(a,{key:1,type:"danger",link:"",size:"small"},{default:d(()=>[...t[17]||(t[17]=[i("取消",-1)])]),_:1})):m("",!0),s(a,{type:"primary",link:"",size:"small"},{default:d(()=>[...t[18]||(t[18]=[i("详情",-1)])]),_:1})])])]))),128)),v.value.length===0?(n(),_("div",ge,"暂无数据")):m("",!0)]),e("div",fe,[s(N,{background:"",small:"",layout:"prev, pager, next",total:8})])])])}}};export{ye as default};
