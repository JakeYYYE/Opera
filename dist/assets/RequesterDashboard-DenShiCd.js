import{r as f,c as U,e as p,h as e,i as l,w as d,j as u,g as m,F as $,k as B,m as E,p as o,q as a,s as w,O as I,ah as L,ai as O,T as A,t as i,f as c}from"./index-U0bzlslD.js";const G={class:"space-y-6"},H={class:"flex justify-between items-end"},J={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},K={class:"bg-white p-4 md:p-5 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4"},M={class:"w-10 h-10 md:w-12 md:h-12 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center flex-shrink-0"},Q={class:"bg-white p-4 md:p-5 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4"},W={class:"w-10 h-10 md:w-12 md:h-12 bg-orange-50 text-orange-600 rounded-lg flex items-center justify-center flex-shrink-0"},X={class:"bg-white p-4 md:p-5 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4"},Y={class:"w-10 h-10 md:w-12 md:h-12 bg-green-50 text-green-600 rounded-lg flex items-center justify-center flex-shrink-0"},Z={class:"bg-white p-4 md:p-5 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row items-start md:items-center gap-3 md:gap-4"},ee={class:"w-10 h-10 md:w-12 md:h-12 bg-purple-50 text-purple-600 rounded-lg flex items-center justify-center flex-shrink-0"},te={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},se={class:"p-4 border-b border-gray-100 flex flex-col md:flex-row gap-4 items-start md:items-center"},le={class:"hidden md:block"},de={class:"font-medium text-gray-800 hover:text-blue-600 cursor-pointer"},ae={class:"text-xs text-gray-400 mt-1"},ie={class:"text-orange-500 font-bold"},oe=["onClick"],ne={class:"flex gap-2"},re={class:"md:hidden"},ue={class:"flex justify-between items-start mb-2"},me={class:"font-medium text-gray-800 line-clamp-2 flex-1 mr-2"},pe={class:"flex justify-between items-center text-sm mb-3"},ce={class:"text-orange-500 font-bold"},ge={class:"text-gray-400 text-xs"},xe={class:"flex items-center justify-between"},fe=["onClick"],be={class:"flex gap-2"},_e={key:0,class:"p-8 text-center text-gray-400 text-sm"},ve={class:"p-4 flex justify-center md:justify-end"},ye={key:0,class:"mb-4 p-3 bg-gray-50 rounded text-sm"},he={class:"text-orange-500"},ke={class:"space-y-3"},we={class:"font-bold text-gray-800"},ze={class:"text-sm text-gray-500 mt-1"},Ce={class:"flex gap-2 mt-2"},Ve={class:"text-right"},je={class:"text-xl font-bold text-orange-600"},Te={class:"mt-2 space-x-2"},Ne={__name:"RequesterDashboard",setup($e){const N=E(),b=f("all"),z=f(!1),_=f(null),V=f([{id:1,title:"慕田峪长城春季宣传片航拍",budget:"¥12,000",createTime:"2026-01-12 09:30",bids:5,status:"bidding"},{id:2,title:"海淀区建筑工地土方测量",budget:"¥8,000",createTime:"2026-01-10 14:20",bids:3,status:"progress"},{id:3,title:"婚礼车队全程跟拍",budget:"¥3,500",createTime:"2026-01-13 10:00",bids:0,status:"auditing"},{id:4,title:"奥林匹克公园全景VR制作",budget:"¥15,000",createTime:"2025-12-28 11:00",bids:8,status:"completed"}]),q=f([{id:101,provider:"北京天空之眼航拍工作室",price:"¥11,500",desc:"拥有5年航拍经验，使用Inspire 3拍摄",deals:128},{id:102,provider:"飞影科技传媒",price:"¥10,800",desc:"专业团队，提供后期剪辑服务",deals:85},{id:103,provider:"独立飞手-张明",price:"¥9,500",desc:"个人飞手，响应快，性价比高",deals:42}]),C=U(()=>b.value==="all"?V.value:V.value.filter(r=>r.status===b.value)),j=r=>({auditing:"info",bidding:"warning",progress:"primary",completed:"success",cancelled:"danger"})[r],T=r=>({auditing:"审核中",bidding:"竞标中",progress:"执行中",completed:"已完成",cancelled:"已取消"})[r],v=r=>{_.value=r,z.value=!0},D=r=>{N.push({path:"/messages",query:{id:4}})};return(r,t)=>{const n=u("el-button"),y=u("el-icon"),g=u("el-tab-pane"),R=u("el-tabs"),x=u("el-table-column"),h=u("el-tag"),S=u("el-table"),F=u("el-pagination"),P=u("el-dialog");return o(),p("div",G,[e("div",H,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-xl font-bold text-gray-800"},"需求方控制台"),e("p",{class:"text-sm text-gray-500 mt-1"},"管理您的需求发布、订单进度与账户资金")],-1)),l(n,{type:"primary",icon:"Plus",onClick:t[0]||(t[0]=s=>r.$router.push("/admin/requester/publish"))},{default:d(()=>[...t[3]||(t[3]=[a("发布新需求",-1)])]),_:1})]),e("div",J,[e("div",K,[e("div",M,[l(y,{size:20},{default:d(()=>[l(w(I))]),_:1})]),t[5]||(t[5]=e("div",null,[e("div",{class:"text-xs md:text-sm text-gray-500"},"进行中需求"),e("div",{class:"text-lg md:text-2xl font-bold text-gray-800"},"3")],-1))]),e("div",Q,[e("div",W,[l(y,{size:20},{default:d(()=>[l(w(L))]),_:1})]),t[6]||(t[6]=e("div",null,[e("div",{class:"text-xs md:text-sm text-gray-500"},"待确认报价"),e("div",{class:"text-lg md:text-2xl font-bold text-gray-800"},"2")],-1))]),e("div",X,[e("div",Y,[l(y,{size:20},{default:d(()=>[l(w(O))]),_:1})]),t[7]||(t[7]=e("div",null,[e("div",{class:"text-xs md:text-sm text-gray-500"},"累计支出"),e("div",{class:"text-lg md:text-2xl font-bold text-gray-800"},"¥12,400")],-1))]),e("div",Z,[e("div",ee,[l(y,{size:20},{default:d(()=>[l(w(A))]),_:1})]),t[8]||(t[8]=e("div",null,[e("div",{class:"text-xs md:text-sm text-gray-500"},"信用评分"),e("div",{class:"text-lg md:text-2xl font-bold text-gray-800"},"98")],-1))])]),e("div",te,[e("div",se,[t[9]||(t[9]=e("h3",{class:"font-bold text-gray-800 flex-shrink-0"},"我的需求",-1)),l(R,{modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=s=>b.value=s),class:"w-full dashboard-tabs"},{default:d(()=>[l(g,{label:"全部",name:"all"}),l(g,{label:"审核中",name:"auditing"}),l(g,{label:"竞标中",name:"bidding"}),l(g,{label:"执行中",name:"progress"}),l(g,{label:"已完成",name:"completed"})]),_:1},8,["modelValue"])]),e("div",le,[l(S,{data:C.value,style:{width:"100%"}},{default:d(()=>[l(x,{prop:"title",label:"需求标题","min-width":"200"},{default:d(({row:s})=>[e("div",de,i(s.title),1),e("div",ae,i(s.createTime)+" 发布",1)]),_:1}),l(x,{prop:"budget",label:"预算",width:"140"},{default:d(({row:s})=>[e("span",ie,i(s.budget),1)]),_:1}),l(x,{prop:"bids",label:"投标数",width:"100",align:"center"},{default:d(({row:s})=>[e("span",{class:"text-blue-600 font-medium cursor-pointer hover:underline",onClick:k=>v(s)},i(s.bids),9,oe)]),_:1}),l(x,{label:"状态",width:"120"},{default:d(({row:s})=>[l(h,{type:j(s.status)},{default:d(()=>[a(i(T(s.status)),1)]),_:2},1032,["type"])]),_:1}),l(x,{label:"操作",width:"200",fixed:"right"},{default:d(({row:s})=>[e("div",ne,[s.status==="bidding"?(o(),c(n,{key:0,type:"primary",link:"",size:"small",onClick:k=>v(s)},{default:d(()=>[...t[10]||(t[10]=[a("查看报价",-1)])]),_:1},8,["onClick"])):m("",!0),s.status==="progress"?(o(),c(n,{key:1,type:"success",link:"",size:"small"},{default:d(()=>[...t[11]||(t[11]=[a("验收成果",-1)])]),_:1})):m("",!0),s.status==="completed"?(o(),c(n,{key:2,type:"info",link:"",size:"small"},{default:d(()=>[...t[12]||(t[12]=[a("评价",-1)])]),_:1})):m("",!0),s.status==="auditing"?(o(),c(n,{key:3,type:"danger",link:"",size:"small"},{default:d(()=>[...t[13]||(t[13]=[a("撤回",-1)])]),_:1})):m("",!0),l(n,{type:"primary",link:"",size:"small"},{default:d(()=>[...t[14]||(t[14]=[a("详情",-1)])]),_:1})])]),_:1})]),_:1},8,["data"])]),e("div",re,[(o(!0),p($,null,B(C.value,s=>(o(),p("div",{key:s.id,class:"p-4 border-b border-gray-100 last:border-0"},[e("div",ue,[e("div",me,i(s.title),1),l(h,{size:"small",type:j(s.status)},{default:d(()=>[a(i(T(s.status)),1)]),_:2},1032,["type"])]),e("div",pe,[e("span",ce,i(s.budget),1),e("span",ge,i(s.createTime.split(" ")[0]),1)]),e("div",xe,[e("div",{class:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded cursor-pointer",onClick:k=>v(s)},i(s.bids)+" 个投标 ",9,fe),e("div",be,[s.status==="bidding"?(o(),c(n,{key:0,type:"primary",link:"",size:"small",onClick:k=>v(s)},{default:d(()=>[...t[15]||(t[15]=[a("报价",-1)])]),_:1},8,["onClick"])):m("",!0),s.status==="progress"?(o(),c(n,{key:1,type:"success",link:"",size:"small"},{default:d(()=>[...t[16]||(t[16]=[a("验收",-1)])]),_:1})):m("",!0),s.status==="auditing"?(o(),c(n,{key:2,type:"danger",link:"",size:"small"},{default:d(()=>[...t[17]||(t[17]=[a("撤回",-1)])]),_:1})):m("",!0),l(n,{type:"primary",link:"",size:"small"},{default:d(()=>[...t[18]||(t[18]=[a("详情",-1)])]),_:1})])])]))),128)),C.value.length===0?(o(),p("div",_e,"暂无数据")):m("",!0)]),e("div",ve,[l(F,{background:"",small:"",layout:"prev, pager, next",total:10})])]),l(P,{modelValue:z.value,"onUpdate:modelValue":t[2]||(t[2]=s=>z.value=s),title:"报价列表",width:"600px"},{default:d(()=>[_.value?(o(),p("div",ye,[t[19]||(t[19]=e("span",{class:"font-bold text-gray-700"},"需求：",-1)),a(i(_.value.title)+" ",1),t[20]||(t[20]=e("span",{class:"ml-4 font-bold text-gray-700"},"预算：",-1)),e("span",he,i(_.value.budget),1)])):m("",!0),e("div",ke,[(o(!0),p($,null,B(q.value,s=>(o(),p("div",{key:s.id,class:"p-4 border border-gray-100 rounded-lg hover:shadow-sm transition flex justify-between items-center"},[e("div",null,[e("div",we,i(s.provider),1),e("div",ze,i(s.desc),1),e("div",Ce,[l(h,{size:"small",type:"success"},{default:d(()=>[...t[21]||(t[21]=[a("已认证",-1)])]),_:1}),l(h,{size:"small",type:"info"},{default:d(()=>[a("成交 "+i(s.deals)+" 单",1)]),_:2},1024)])]),e("div",Ve,[e("div",je,i(s.price),1),e("div",Te,[l(n,{size:"small",onClick:k=>D(s)},{default:d(()=>[...t[22]||(t[22]=[a("联系",-1)])]),_:1},8,["onClick"]),l(n,{type:"primary",size:"small"},{default:d(()=>[...t[23]||(t[23]=[a("选标",-1)])]),_:1})])])]))),128))])]),_:1},8,["modelValue"])])}}};export{Ne as default};
